<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>구구단</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
</head>
<body>
<div id="app">
    <div>{{ prev }} X {{ next }} = </div>
    <form v-on:submit="onsubmitForm">
<!--        input으로 입력받은 데이터를 Vue의 data에 맵핑해준다.-->
<!--        ref는 vue가 알 수 있는 이름같은 것-->
        <input type="number" v-model="answer" ref="answer"/>
<!--        button type=submit을 누르면 form을 제출하게 된다.-->
        <button type="submit">입력</button>
    </form>
    <div>{{ result }}</div>

</div>
</body>
<script>
    const app = new Vue({
        el: '#app',
        data: {
            prev: Math.ceil(Math.random() * 9),
            next: Math.ceil(Math.random() * 9),
            result: "",
            answer: "",
        },
        methods: {
            onsubmitForm(e) {
                // 페이지 새로고침을 막아줌!
                e.preventDefault();
                // 사실 answer로 들어오는 input으로 들어오는 값은 문자열이다.
                // parseInt로 바꿔 정확히 값을 체크하거나
                // 지금 같이 == 으로 가라로 체크할 수도 있음!
                if (this.prev * this.next == this.answer) {
                    this.result = "정답";
                    this.prev = Math.ceil(Math.random() * 9);
                    this.next = Math.ceil(Math.random() * 9);
                } else {
                    this.result = "오답";
                }
                this.answer = "";
                // focus는 onSubmitForm 동작 이후에 바로 인풋 입력을 가능하게해줌
                // ref는 $refs 로 사용
                this.$refs.answer.focus();
            }
        },
    });
</script>
</html>